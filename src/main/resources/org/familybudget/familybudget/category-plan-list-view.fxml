<?xml version="1.0" encoding="UTF-8"?>
<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.shape.SVGPath?>

<VBox xmlns="http://javafx.com/javafx/21"
      xmlns:fx="http://javafx.com/fxml/1"
      fx:controller="org.familybudget.familybudget.Controllers.CategoryPlanListController"
      spacing="10"
      alignment="TOP_CENTER"
      prefWidth="600"
      prefHeight="420"
      style="-fx-background-color: #F0F2F5;">

    <padding>
        <Insets top="20" right="20" bottom="20" left="20"/>
    </padding>

    <!-- Заголовок + плюсик справа -->
    <HBox alignment="CENTER_LEFT" spacing="10" prefWidth="560">
        <Label text="Планы по категориям"
               style="-fx-text-fill: #222;">
            <font>
                <Font name="Segoe UI Semibold" size="20"/>
            </font>
        </Label>

        <Region HBox.hgrow="ALWAYS"/>

        <Button onAction="#onAddClick"
                fx:id="onOpenCategoryPlanAddClick"
                style="
                    -fx-background-color: #4CAF50;
                    -fx-background-radius: 50;
                    -fx-min-width: 32;
                    -fx-min-height: 32;
                    -fx-max-width: 32;
                    -fx-max-height: 32;
                    -fx-padding: 0;">
            <graphic>
                <SVGPath content="M8 15A7 7 0 1 1 8 1a7 7 0 0 1 0 14m0 1A8 8 0 1 0 8 0a8 8 0 0 0 0 16
                           M8 4a.5.5 0 0 1 .5.5v3h3a.5.5 0 0 1 0 1h-3v3a.5.5 0 0 1-1 0v-3h-3a.5.5 0 0 1 0-1h3v-3A.5.5 0 0 1 8 4"
                         style="-fx-fill: #FFFFFF;"/>
            </graphic>
        </Button>
    </HBox>

    <TableView fx:id="plansTable"
               prefWidth="560"
               prefHeight="300"
               style="-fx-background-color: white;
                      -fx-border-color: #DDDDDD;
                      -fx-border-radius: 10;
                      -fx-background-radius: 10;">
        <columns>
            <TableColumn fx:id="colCategory" text="Категория" prefWidth="160"/>
            <TableColumn fx:id="colFrom"     text="С"         prefWidth="90"/>
            <TableColumn fx:id="colTo"       text="По"        prefWidth="90"/>
            <TableColumn fx:id="colPlanned"  text="План"      prefWidth="80"/>
            <TableColumn fx:id="colActual"   text="Факт"      prefWidth="80"/>
            <TableColumn fx:id="colPercent"  text=" пролцент % " prefWidth="100"/>
        </columns>
    </TableView>

    <HBox spacing="10" alignment="CENTER_RIGHT" prefWidth="560">
        <Button text="Обновить"
                onAction="#onRefreshClick"
                style="-fx-background-color: #FFFFFF;
                       -fx-background-radius: 999;
                       -fx-text-fill: #333;
                       -fx-font-weight: bold;
                       -fx-padding: 5 14;"/>

        <Button text="Редактировать"
                onAction="#onEditClick"
                style="-fx-background-color: #FFFFFF;
                       -fx-background-radius: 999;
                       -fx-text-fill: #333;
                       -fx-font-weight: bold;
                       -fx-padding: 5 14;"/>

        <Button text="Удалить"
                onAction="#onDeleteClick"
                style="-fx-background-color: #FF4B55;
                       -fx-background-radius: 999;
                       -fx-text-fill: white;
                       -fx-font-weight: bold;
                       -fx-padding: 5 14;"/>

        <Button text="Закрыть"
                onAction="#onCloseClick"
                style="-fx-background-color: #E0E0E0;
                       -fx-background-radius: 999;
                       -fx-text-fill: #333;
                       -fx-font-weight: bold;
                       -fx-padding: 5 14;"/>
    </HBox>

    <Label fx:id="statusLabel"
           style="-fx-text-fill: #D32F2F; -fx-font-size: 11;" text=""/>

</VBox>
